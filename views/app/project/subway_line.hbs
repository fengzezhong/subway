<!--<link rel="stylesheet" href="{{projcfg.appurl}}/static/externalImport/css/reset.css?v=1"> &lt;!&ndash; CSS reset &ndash;&gt;-->
<!--<link rel="stylesheet" type="text/css" href="{{projcfg.appurl}}/static/externalImport/css/default.css?v=1">-->
<!--<link rel="stylesheet" href="{{projcfg.appurl}}/static/externalImport/css/style.css?v=1"> &lt;!&ndash; Resource style &ndash;&gt;-->
<!--<script src="{{projcfg.appurl}}/static/externalImport/js/jquery.mobile.custom.min.js?v=1"></script>-->
<!--<script src="{{projcfg.appurl}}/static/externalImport/js/main.js?v=1"></script>-->
<!--<script src="{{projcfg.appurl}}/static/externalImport/js/modernizr.js?v=1"></script>&lt;!&ndash; Modernizr &ndash;&gt;-->

<script src="{{projcfg.appurl}}/static/js/fontJquery/jquery.flot.js"></script>
<script src="{{projcfg.appurl}}/static/js/fontJquery/jquery.flot.resize.js"></script>
<script src="{{projcfg.appurl}}/static/js/fontJquery/jquery.flot.pie.js"></script>
<script src="{{projcfg.appurl}}/static/js/fontJquery/jquery.flot.tooltip.js"></script>
<script src="{{projcfg.appurl}}/static/js/fontJquery/jquery.flot.orderBars.js"></script>
<script src="{{projcfg.appurl}}/static/js/fontjquery/easypiechart/easypiechart-init.js"></script>
<script src="{{projcfg.appurl}}/static/js/echart/v3.1.3/echarts.min.js"></script>
<script src="{{projcfg.appurl}}/static/laydate/laydate.js"></script>
<script src="{{projcfg.appurl}}/static/code/highcharts.js"></script>



<div class="row" style="solid: rgba(106,93,153,0.51)" >

    <div class="col-xs-5 col-md-5 text-left">
        <div style="margin-left: 60px">
            <label>时间选择</label>
            <input id="queryDate" name="queryDate" style="height: 34px;weight:150px " >
            <label>线路选择</label>
            <input class="easyui-combobox" value="线路选择" style="width: 130px;height:34px;" name="subway_id" id="subway_id"
                   data-options='data:[{id:"一号线",text:"一号线"}],
               valueField: "id",
               textField: "text",
               panelWidth: 130,
               panelHeight: "auto",
               formatter: formatItem'>
        </div>
    </div>


    <div class="col-xs-7 col-md-7 text-left">
        <div class="btn-group" style="margin-top: 3px">

            <a class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                查询 <i class="fa fa-angle-down"></i>
            </a>
            <ul class="dropdown-menu">
                <li>
                    <a href="javascript:query('day')">日</a>
                </li>
                <li>
                    <a href="javascript:query('hour')">小时</a>
                </li>
            </ul>
        </div>
    </div>
</div>

<div class="row" style="margin-top: 20px;margin-left: 10px">
    <div class="col-md-6">
        <div class="widget" style="width: 550px">
            <div class="row" style="padding: 0px">
                <div class="widget-header bordered-bottom bordered-sky">
                    <span class="widget-caption">线路概览</span>
                </div>
                <div class="widget-body" style="height: 350px">
                    <div class="col-md-4">

                        <div class="databox databox-xlg radius-bordered databox-shadowed databox-vertical">
                            <div class="databox-top bg-purple">
                                <span class="databox-header">用户数</span>
                            </div>
                            <div class="databox-bottom bg-white no-padding">
                                <div id="placeholder"
                                     style="direction: ltr; position: absolute; left: -23px; top: 5px ; width: 200px; height: 140px;">

                                </div>
                                <div class="flot-donut-caption">
                                    <span class="databox-number sonic-silver" style="margin-left:5px">
                                        <label id="user_count"></label>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="databox databox-xlg radius-bordered databox-shadowed databox-vertical">
                            <div class="databox-top bg-primary">
                                <span class="databox-header">流量</span>
                            </div>
                            <div class="databox-bottom bg-white no-padding">
                                <div id="placeholder2"
                                     style="direction: ltr; position: absolute; left: -23px; top: 5px ; width: 200px; height: 140px;">

                                </div>
                                <div class="flot-donut-caption">
                                    <span class="databox-number sonic-silver" style="margin-left: 5px">
                                        <label id="flow"></label>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="databox databox-xlg radius-bordered databox-shadowed databox-vertical">
                            <div class="databox-top bg-green">
                                <span class="databox-header">舒适度</span>
                            </div>
                            <div class="databox-bottom bg-white no-padding">
                                <div id="placeholder3"
                                     style="direction: ltr; position: absolute; left: -23px; top: 5px ; width: 200px; height: 140px;">

                                </div>
                                <div class="flot-donut-caption">
                                    <span class="databox-number sonic-silver"
                                          style="margin-left:-10px ">
                                       <label id="showLevel" style="margin-left: 18px">
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="databox radius-bordered databox-shadowed databox-graded databox-vertical">

                        <div class="databox-row">
                            <div class="databox-cell cell-6 text-align-center bg-sky">
                                <span class="databox-number">22</span>
                                <span class="databox-text">总搭乘时长</span>
                            </div>
                            <div class="databox-cell cell-6 text-align-center bg-azure">
                                <span class="databox-number">13</span>
                                <span class="databox-text">平均时长</span>
                            </div>
                        </div>

                        <div class="databox-bottom text-align-center">
                            <span class="databox-text" id = 'showDate'>FRIDAY - 2014 16 MAY</span>
                            <span class="databox-text" id ='showTime'></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="orders-container">
            <div class="orders-header">
                <h6>热门业务排行</h6>
            </div>
            <ul class="orders-list" id="ranking">
            </ul>
        </div>
    </div>
</div>
<div class="row" style="padding: 0px">
    <div class="col-md-12">
        <div title="图表"  >

            <div class="col-md-6" >
                <div id="surveyForSubway"></div>
            </div>
            <div class="col-md-6" >
                <div id="detailForSubway" ></div>
            </div>
        </div>

    </div>
</div>

<div class="row">
    <div class="col-md-12">
        <div class="easyui-tabs" style="width:100%;height:600px"
             data-options="tabWidth:387,tabHeight:40,fit:true,border:true">
            <div title="图表" style="padding:10px">

                <div class="col-md-6">
                    <div id="canvasDiv"></div>
                </div>
                <div class="col-md-6">
                    <div id="nightingale" style="width: 550px;height: 500px"></div>
                </div>
            </div>
            <div title="线路数据表" style="padding:10px">
                <table id="lineInfoTable2" class="easyui-datagrid">
                </table>
            </div>
            <div title="应用数据表" style="padding:10px">
                <table id="lineInfoTable1" class="easyui-datagrid">
                </table>
            </div>
        </div>
    </div>
    <div class="col-md-12"></div>
</div>


<script>

    var currentDate=new Date();

    /**
     * 时间插件
     */
    laydate.render({
        elem: '#queryDate',
        type: 'datetime',
        theme: '#1640b6',
        calendar: true,
        max: currentDate.getFullYear()+"-"+(currentDate.getMonth()+1)+'-'+(currentDate.getDate()-1),
        format: 'yyyy-MM-dd HH:mm',
        done: function(value, date, endDate){

        }
    });

    /**
     * 载入页面加载远程数据绘制图标
     */

    $(document).ready(function () {


        //显示当前时间
        setInterval(function(){

            // 首页显示当天时间
            var thisDay=new Date();
            var weekday=new Array(7);
            weekday[0]="星期天";
            weekday[1]="星期一";
            weekday[2]="星期二";
            weekday[3]="星期三";
            weekday[4]="星期四";
            weekday[5]="星期五";
            weekday[6]="星期六";
            $('#showDate').text(thisDay.getFullYear() +'年'+ (thisDay.getMonth()+1) +'月'+thisDay.getDate()+'日'+' ' +weekday[thisDay.getDay()] );
            $('#showTime').text(thisDay.getHours() +':'+thisDay.getMinutes() +':'+thisDay.getSeconds());

        },0);

        currentDate=new Date();
        currentDate=new Date(currentDate-86400000);


        lastDay=currentDate.getFullYear()+"-"+(currentDate.getMonth()+1)+"-"+(currentDate.getDate());
        var currHours=new Date().getHours()<10?"0"+new Date().getHours():new Date().getHours();
        $('#queryDate').val(lastDay+" "+currHours+":00");


        /**
         * 根据查询条件获取数据和绘制图表
         */
        getRemoteData(getViewData(),'hour', function (data) {



            drawPieChart(data.overView.data,data.overView.data2,data.overView.data3);
            drawLine(data.line.user,data.line.flow);
            drawPie(data.nightData.legend,data.nightData.data);
            drawRanking(data.rankingData);
            drawLineTable1(getViewData());
            drawLineTable2(getViewData());

        });



        /**
         * 获取同一时间的不同站点网络得分情况，默认当前时间得分
         *
         */
        getLevelData(getViewData(),'贵阳北站',function (data) {

            var time = getViewData().queryData;
            drawSurvey(data.levelData.level,data.levelData.station, time);

        });


        /**
         * 获取同一站点的不同时间网络具体情况，默认为"贵阳北站"相关数据
         *
         */
        getLevelAllData('贵阳北站',getViewData().queryData);


    });


    /**
     * 查询按钮
     * @param timeType 时间类型（天/小时）
     */

    function query(timeType) {

        getRemoteData(getViewData(), timeType, function (data) {

            drawPieChart(data.overView.data,data.overView.data2,data.overView.data3);
            drawLine(data.line.user,data.line.flow);
            drawPie(data.nightData.legend,data.nightData.data);
            drawRanking(data.rankingData);
            drawLineTable1(getViewData());
            drawLineTable2(getViewData());

        });


        /**
         * 首次进入页面加载得分与详细参数，默认显示"贵阳北站"相关数据
         */
        getLevelData(getViewData(),'贵阳北站',function (data) {

            var time = getViewData().queryData;
            drawSurvey(data.levelData.level,data.levelData.station, time);

        });

    }
    /**
     * 获取远程数据，业务概览，排行榜，线路流量人数，各个站点流量
     * @param viewData 本地数据
     * @param timeType 时间类型（天/小时）
     * @param cb 回调函数
     */
    function getRemoteData(viewData, timeType, cb) {
        viewData['timeType'] = timeType;
        $.ajax({
            url: "{{projcfg.appurl}}/api/subway/subway_line_router/",
            data: {viewData:viewData},
            type: "get",
            success: function (data) {

                data = data.data;
                cb(data);
            }
        });
    }


   /**
    * 获取得分数据请求
    * station 默认站台名
    * time 时间
    * cb 返回数据
    */
    function getLevelData(station,time ,cb) {

        $.ajax({

            url: "{{projcfg.appurl}}/api/subway/subway_line_router/getCode",
            data: {
                station:station,
                time : time
            },
            type: "post",
            success: function (data) {

                data = data.data;
                cb(data);

            }
        });

    }


    /**
     * 获取得分详情请求
     * station 默认站台名
     * time 时间
     *
     */
    function getLevelAllData(station,time) {

        $.ajax({

            url: "{{projcfg.appurl}}/api/subway/subway_line_router/getCodeAll",
            data: {
                station:station,
                timeType : time
            },
            type: "post",
            success: function (data) {

                data = data.data;
                drawDetail(station,data.levelDataAll.day,data.codeAll);

            }
        });

    }

    /**
     * 获取本地数据，查询时间与线路
     * @returns queryData: *|jQuery, subway_id: *|jQuery
     */
    function getViewData() {
        var subway_id = $("#subway_id").combobox('getValue');
        var  queryDate= $('#queryDate').val() ;
        return {queryData: queryDate, subway_id: subway_id};

    }
</script>

<!--折线条形组合图-->
<script>
    /**
     * 绘制左上角业务概览空心饼图
     * @param data 用户数
     * @param data2 流量
     * @param data3 舒适度
     */
    function drawPieChart(data,data2,data3) {


        $("#showLevel").text(data3[2].show);
        $("#user_count").text(data[1].data);
        $("#flow").text(data2[1].data);
        $.plot('#placeholder', data, {
            series: {
                pie: {
                    innerRadius: 0.8,
                    show: true
                }
            }
        });
        $.plot('#placeholder2', data2, {
            series: {
                pie: {
                    innerRadius: 0.8,
                    show: true
                }
            }
        });
        $.plot('#placeholder3', data3, {
            series: {
                pie: {
                    innerRadius: 0.8,
                    show: true
                }
            }
        });
    }

    /**
     * 绘制折线柱形图
     * @param data 总人数
     * @param data1 总流量
     */
    function drawLine(data,data1) {


        var newDay = [];
        for(var i=0;i< data.length;i++){
            newDay.push(data[i].name);
        }


        var newData = [];
        for(var i=0;i< data.length;i++){
            newData.push(Number(data[i].value));
        }


        data1 = data1[0].value;
        var newData1 = [];
       for(var i=0;i< data.length;i++){
           newData1.push(Number(data1[i]));
       }
        $('#canvasDiv').highcharts({
            chart: {
                zoomType: 'xy'
            },
            title: {
                text: '用户-流量图'
            },
            subtitle: {
                text: ' 地铁指标分析'
            },
            xAxis: [{
                categories: newDay,
                 crosshair: true
            }],
            yAxis: [{
                labels: {
                    formatter:function () {
                        return this.value+"人";
                    },
                    style: {
                        color: Highcharts.getOptions().colors[1]
                    }
                },
                step:5,
                title: {
                    text: '用户',
                    style: {
                        color: Highcharts.getOptions().colors[1]
                    }
                }
            }, { // Secondary yAxis
                title: {
                    text: '流量',
                    style: {
                        color: Highcharts.getOptions().colors[0]
                    }
                },
                labels: {
                    format: '{value} GB',
                    style: {
                        color: Highcharts.getOptions().colors[0]
                    }
                },
                opposite: true
            }],
            tooltip: {
                shared: true
            },
            legend: {
                layout: 'vertical',
                align: 'left',
                x: 430,
                verticalAlign: 'top',
                y: 0,
                floating: true,
                backgroundColor: (Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF'
            },
            credits:{
                text:'',
                href:''
             },
            series: [{
                name: '流量',
                type: 'column',
                yAxis: 1,
                data: newData1,
                tooltip: {
                    valueSuffix: ' GB'
                }
            }, {

                name: '用户',
                type: 'spline',
                data: newData,
                tooltip: {
                    valueSuffix: '人次'
                }
            }]
        });


    }

    /**
     * 绘制各站点流量南丁格尔图
     * @param legendData 图列
     * @param Data 数据
     */
    function drawPie(legendData,Data) {
        var nightingale = echarts.init(document.getElementById('nightingale'));
        option = {
            title: {
                text: '站点流量占比',
                subtext: '地铁指标分析',
                x: 'center'
            },
            tooltip: {
                trigger: 'item',
                formatter: "{a} <br/>{b} : {c} ({d}%)"
            },
            legend: {
                x: 'center',
                y: 457,
                width:580,
                data: legendData
            },
            toolbox: {
                show: true,
                feature: {
                    mark: {show: true},
                    dataView: {show: true, readOnly: false},
                    magicType: {
                        show: true,
                        type: ['pie', 'funnel']
                    },
                    restore: {show: true},
                    saveAsImage: {show: true}
                }
            },
            grid: {show: 'true', borderWidth: '0'},
            calculable: true,
            series: [
                {
                    name: '面积模式',
                    type: 'pie',
                    radius: [40, 180],
                    center: ['50%', '50%'],
                    roseType: 'area',
                    data: Data
                }
            ]
        };
        nightingale.setOption(option);

    }

    /**
     * 绘制业务流量排行榜
     * @param data 业务名与流量
     */
    function drawRanking(data) {

        if(data != null &&data !='' && data !=undefined){

            $("#ranking").empty();

            if(data.length !=0){
                for(var i=0;i<=4;i++){
                    var item="<li class=\"order-item\">\n" +
                            "                    <div class=\"row\">\n" +
                            "                        <div class=\"col-lg-8 col-md-8 col-sm-8 col-xs-8 item-left\">\n" +
                            "                            <div class=\"item-booker\">"+data[i].name+"</div>\n" +
                            "                            <div class=\"item-time\">\n" +
                            "                                <i class=\"fa fa-calendar\"></i>\n" +
                            "                                <span>1 hours ago</span>\n" +
                            "                            </div>\n" +
                            "                        </div>\n" +
                            "                        <div class=\"col-lg-4 col-md-4 col-sm-4 col-xs-4 item-right\">\n" +
                            "                            <div class=\"item-price\">\n" +
                            "                                <span class=\"currency\">"+data[i].value+"</span>\n" +
                            "                                <span class=\"price\">G</span>\n" +
                            "                            </div>\n" +
                            "                        </div>\n" +
                            "                    </div>\n" +
                            "                    <a class=\"item-more\" href=\"\">\n" +
                            "                        <i></i>\n" +
                            "                    </a>\n" +
                            "                </li>";
                    $("#ranking").append(item);
                }
            }else {

                $("#ranking").append('<div><span>fafasdafdasdsd<span><div>');

            }


        }


    }


    /**
     * 加载数据表格以及获取远程数据
     * @param para
     */
    function drawLineTable1(para) {


        //数据表格加载
        $('#lineInfoTable1').datagrid({
            url: "{{projcfg.appurl}}/api/subway/subway_line_router/lineInfoList",
            method: 'post',
            queryParams: para,
            title: '应用数据表',
            rownumbers: true,
            striped: true,
            autoRowHeight: false,
            fitColumns: false,
            border: true,
            multiSort: true,
            height: 500,
            width: 1130,
            singleSelect: true,
            selectOnCheck: false,
            columns: [[
                 // {field: '_id', checkbox: true ,rowspan:2} ,
                {"field": "TIME_ID", "title": "时间", "width": 200, align: 'center', sortable: true,
                    formatter: function (value, rowData, rowIndex) {
                        return value.substr(0,4)+'年'+value.substr(4,2) + '月' + value.substr(6,2) +'日'+ value.substr(8,2) +'时';
                    }
                },
                {"field": "AREA_NAME", "title": "地区", "width": 150,   align: 'center'},
                {"field": "SUBWAY_NAME", "title": "线路名称", "width": 150,   align: 'center'},
                {"field": "APP_SUBTYPE_NAME", "title": "APP名称", "width": 200,  align: 'center'},
                {"field": "TOTAL_USER_CNT", "title": "APP总用户数", "width": 200,  align: 'center',sortable: true },
                {"field": "TOTAL_FLOW", "title": "APP总流量", "width": 200,  align: 'center',sortable: true ,
                    formatter: function (value, rowData, rowIndex) {
                        return ((Number(value))/(1024*1024)).toFixed(2)+"MB" ;
                    }
                }

            ]],
            onClickRow: function (rowIndex, rowData) {

            },
            onBeforeLoad: function (param) {

            },
            onLoadSuccess: function (json) {
                if (!json.success) {
                    msgError(json.msg + ',错误代码:' + json.code);
                }
            },
            onLoadError: function () {
                msgError('加载数据出现时发生错误,请稍候重试...');
            },
            pagination: true,
            loadMsg: '正在加载...'

        });
    }

    /**
     * 加载数据表格以及获取远程数据
     * @param para
     */
    function drawLineTable2(para) {
        //数据表格加载
        $('#lineInfoTable2').datagrid({
            url: "{{projcfg.appurl}}/api/subway/subway_line_router/lineInfoListBuss ",
            method: 'post',
            queryParams: para,
            title: '应用数据表',
            rownumbers: true,
            striped: true,
            autoRowHeight: false,
            fitColumns: false,
            border: true,
            multiSort: true,
            height: 500,
            width: 1130,
            singleSelect: true,
            selectOnCheck: false,

            columns: [[
                // {field: '_id', checkbox: true } ,
                {"field": "TIME_ID", "title": "时间", "width": 300, align: 'center', sortable: true,
                    formatter: function (value, rowData, rowIndex) {

                    return value.substr(0,4)+'年'+value.substr(4,2) + '月' + value.substr(6,2) +'日'+ value.substr(8,2) +'时';
                    }
                },
                {"field": "AREA_NAME", "title": "地区", "width": 200,   align: 'center', sortable: true },
                {"field": "SUBWAY_NAME", "title": "线路名称", "width": 200,  align: 'center', sortable: true },
                {"field": "USER_CNT", "title": "总用户数",  "width": 200, align: 'center', sortable: true  },
                {"field": "TOTAL_FLOW", "title": "总流量",  "width": 200, align: 'center', sortable: true,
                    formatter: function (value, rowData, rowIndex) {
                        return ((Number(value))/(1024*1024)).toFixed(2)+"MB";
                    }
                }

            ]],
            onClickRow: function (rowIndex, rowData) {

            },
            onBeforeLoad: function (param) {

            },
            onLoadSuccess: function (json) {
                if (!json.success) {
                    msgError(json.msg + ',错误代码:' + json.code);
                }
            },
            onLoadError: function () {
                msgError('加载数据出现时发生错误,请稍候重试...');
            },
            pagination: true,
            loadMsg: '正在加载...'

        });
    }


</script>

<script>

    /**
     * 格式化下拉列表样式
     * @param row
     * @returns {string}
     */
    function formatItem(row) {
        //下拉列表类型选择
        var a = ["label label-default",
            "label label-primary",
            "label label-info",
            "label label-success",
            "label label-danger",
            "label label-warning",
            "label label-sky",
            "label label-blueberry",
            "label label-yellow",
            "label label-darkorange",
            "label label-magenta",
            "label label-purple",
            "label label-maroon",
            "label label-darkpink",
            "label label-pink",
            "label label-azure",
            "label label-orange"];
        var n = Math.floor(Math.random() * 17);
        var s = '<span class="' + a[n] + '">' + row.text + '</span>';
        return s;
    }

</script>

<script>
    /**
     * 根据获取的数据进行画得分
     * allSta 需要展示的所有站点
     * code 对应站点得分
     * time 查询后显示的时间
     */
    function drawSurvey(allSta,code,time) {

        var station = '';
        var chart1 = Highcharts.chart('surveyForSubway', {

            chart: {
                type: 'column'
            },
            title: {
                text: '线路总体得分'
            },
            subtitle: {
                text: ''
            },
            xAxis: {

                categories: code,
                crosshair: true
            },
            yAxis: {
                labels: {
                    x: 0
                },
                title: {
                    text: '得分'
                }
            },
            width:599,
            series: [{
                name: '地铁指标分析',
                data: allSta,
                events:{
                    click: function (data) {

                        station = data.point.category;
                        setTimeout(getLevelAllData(station,time ),0);
                    }
                }

            }],
            responsive: {
                rules: [{
                    condition: {
                        maxWidth: 500
                    },

                    chartOptions: {
                        xAxis: {
                            labels: {
                                formatter: function () {
                                    return this.value.replace('月', '')
                                }
                            }
                        },
                        yAxis: {
                            labels: {
                                align: 'left',
                                x: 0,
                                y: -2
                            },
                            title: {
                                text: ''
                            }
                        }
                    }
                }]
            },
            credits: {
                text:'',
                href:''

            }

        });
        $('#small').click(function () {
            chart1.setSize(400, 300);
        });
        $('#large').click(function () {
            chart1.setSize(800, 300);
        });



    }


    /**
     * 根据获取的数据画具体得分数据
     * station 点击的站点
     * day 显示的X轴时间
     * codeAll 获得得分的所有相关数据
     */
    function drawDetail(station,day,codeAll) {

       // console.log(codeAll);

           var chart2 = Highcharts.chart('detailForSubway', {
               chart: {
                   type: 'column'
               },
               title: {
                   text: station +'  站点详情'
               },
               subtitle: {
                   text: ''
               },
               legend: {
                   // align: 'right',
                   verticalAlign: 'top',
                   // layout: 'vertical',
                   x: 20,
                   y:-20

               },
               width:300,
               high:400,
               xAxis: {
                   categories: day,
                   labels: {
                       x: -10
                   }
               },
               yAxis: {
                   allowDecimals: false,
                   title: {
                       text: '金额'
                   }
               },
               series: [{name: '总用户数(✖️100)',
                   data: codeAll[0],
                   color:'#87cbff'
               }, {
                   name: '总流量(✖️100)',
                   data: codeAll[1],
                   color:'#658548'
               }, {
                   name: '下载速率(✖️100)',
                   data: codeAll[2],
                   color:'#7f274b'
               }, {
                   name: 'HTTP响应成功率(✖️20%)',
                   data: codeAll[3],
                   color:'#83d93c'

               }],
               responsive: {
                   rules: [{
                       condition: {
                           maxWidth: 450
                       },
                       chartOptions: {
                           legend: {
                               align: 'center',
                               verticalAlign: 'bottom',
                               layout: 'horizontal'
                           },
                           yAxis: {
                               labels: {
                                   align: 'left',
                                   x: 0,
                                   y: -5
                               },
                               title: {
                                   text: null
                               }
                           },
                           subtitle: {
                               text: null
                           }
                       }
                   }]
               },
               credits: {
                   text:'',
                   href:''

               }
           });

           $('#small').click(function () {
               chart2.setSize(400, 300);
           });
           $('#large').click(function () {
               chart2.setSize(800, 300);
           });


    }




</script>







