<script src="{{projcfg.appurl}}/static/js/highCharts/highcharts.js"></script>

<div class="widget">
    <div class="widget-header bg-blue">
        <span class="widget-caption">
            数据文件概览
        </span>
        <div class="widget-buttons">
            <a href="#" data-toggle="maximize">
                <i class="fa fa-expand "></i>
            </a>
            <a href="#" data-toggle="collapse">
                <i class="fa fa-minus "></i>
            </a>
            <a href="#" data-toggle="dispose">
                <i class="fa fa-times "></i>
            </a>
        </div>
    </div>
    <div class="widget-body">
        <div class="row">
            <div class="col-md-9">
                <div class="form-group">
                    <label for="definpu">路径</label>
                    <input class="form-control" id="definput" name="definput"  type="text" value="">
                    <label for="definpu">参数</label>
                    <input class="form-control" id="definput" name="definput"  type="text" value="">
                </div>
            </div>
            <div class="col-md-3">

            </div>
            <div class="col-md-12">
                <div id="container" style="width: 1150px;height:400px;"></div>
            </div>
        </div>
    </div>
</div>







<script>
    $(document).ready(function () {
        getData(function (data) {
            drawLine(data.category,data.result);
        });
    });

    function getData(cb) {
        $.ajax({
            url: '{{projcfg.appurl}}/api/subway/subway_router/dataFileList',
            type: 'get',
            data: {
                path: '',
                para: ''
            },
            success: function (data) {
                if (data.err) {
                    msgError("处理错误");
                } else {
                    cb(data);
                }
            }

        });
    }

    function drawLine(xCat,rdata) {
        $('#container').highcharts({
            chart: {
                type: 'column'
            },
            title: {
                text: '数据文件统计'
            },
            xAxis: {
                categories: xCat,
                crosshair: true
            },
            yAxis: {
                min: 0,
                title: {
                    text: '文件数(个)'
                }
            },
            tooltip: {
                headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                '<td style="padding:0"><b>{point.y:.0f} 个</b></td></tr>',
                footerFormat: '</table>',
                shared: true,
                useHTML: true
            },
            plotOptions: {
                column: {
                    borderWidth: 0
                }
            },
            series: rdata
        });
    };

</script>
<script>
    /*
 Highcharts JS v6.0.4 (2017-12-15)

 (c) 2009-2017 Torstein Honsi

 License: www.highcharts.com/license
*/
    (function(b){"object"===typeof module&&module.exports?module.exports=b:b(Highcharts)})(function(b){(function(a){a.createElement("link",{href:"https://fonts.googleapis.com/css?family\x3dSignika:400,700",rel:"stylesheet",type:"text/css"},null,document.getElementsByTagName("head")[0]);a.wrap(a.Chart.prototype,"getContainer",function(a){a.call(this);this.container.style.background="url(http://www.highcharts.com/samples/graphics/sand.png)"});a.theme={colors:"#f45b5b #8085e9 #8d4654 #7798BF #aaeeee #ff0066 #eeaaee #55BF3B #DF5353 #7798BF #aaeeee".split(" "),
        chart:{backgroundColor:null,style:{fontFamily:"Signika, serif"}},title:{style:{color:"black",fontSize:"16px",fontWeight:"bold"}},subtitle:{style:{color:"black"}},tooltip:{borderWidth:0},legend:{itemStyle:{fontWeight:"bold",fontSize:"13px"}},xAxis:{labels:{style:{color:"#6e6e70"}}},yAxis:{labels:{style:{color:"#6e6e70"}}},plotOptions:{series:{shadow:!0},candlestick:{lineColor:"#404048"},map:{shadow:!1}},navigator:{xAxis:{gridLineColor:"#D0D0D8"}},rangeSelector:{buttonTheme:{fill:"white",stroke:"#C0C0C8",
                "stroke-width":1,states:{select:{fill:"#D0D0D8"}}}},scrollbar:{trackBorderColor:"#C0C0C8"},background2:"#E0E0E8"};a.setOptions(a.theme)})(b)});
</script>





